---
- summary: |
    Успешная регистрация с помощью Github
  requirement: |
    Пользователь может зарегистрироваться с помощью аккаунта на Github
  prerequisites: |
    Завести аккаунт на Github
  test-data: |
    Стартовая страница проекта
  steps:
    - Нажать на кнопку Sign Up
    - Нажать кнопку Sign In with GitHub
    - Ввести логин и пароль от аккаунта GitHub
    - Дать разрешение на доступ через GitHub
  expected-result: |
    При успешной регистрации пользователь должен попасть на главную страницу codebattle

- summary: |
    Успешная регистрация с помощью Discord
  requirement: |
    Пользователь может зарегистрироваться с помощью аккаунта на Discord
  prerequisites: |
    Завести аккаунт на Discord
  test-data: |
    Стартовая страница проекта
  steps:
    - Нажать на кнопку Sign Up
    - Нажать кнопку Sign In with Discord
    - Ввести логин и пароль от аккаунта Discord
    - Дать разрешение на доступ через Discord
  expected-result: |
    При успешной регистрации пользователь должен попасть на главную страницу codebattle

- summary: |
    Успешная регистрация с помощью Email
  requirement: |
    Пользователь может зарегистрироваться с помощью Email 
  prerequisites: |
    Завести Email
  test-data: |
    Стартовая страница проекта
  steps:
    - Нажать на кнопку Sign Up
    - Заполнить все поля формы регистрации
    - Нажать кнопку Submit
  expected-result: |
    При успешной регистрации пользователь должен попасть на главную страницу codebattle

- summary: |
    Проверка уникальности Nickname при регистрации
  requirement: |
    Пользователь не может использовать Nickname и Email, которые уже есть на сайте 
  prerequisites: |
    Зарегистрироваться на codebattle через email
    Выйти из аккаунта
  test-data: |
    Стартовая страница проекта
  steps:
    - Нажать на кнопку Sign Up
    - Заполнить поле Nickname как при предыдущей регистрации 
    - Остальные поля заполнить значениями отличными от предыдущей регистрации 
    - Нажать Submit
  expected-result: |
    Пользователь должен увидить сообщение Nickname is already taken

- summary: |
    Проверка уникальности Email при регистрации
  requirement: |
    Пользователь не может использовать Email, которые уже есть на сайте 
  prerequisites: |
    Зарегистрироваться на codebattle через email
    Выйти из аккаунта
  test-data: |
    Стартовая страница проекта
  steps:
    - Нажать на кнопку Sign Up
    - Заполнить поле Email как при предыдущей регистрации 
    - Остальные поля заполнить значениями отличными от предыдущей регистрации 
    - Нажать Submit
  expected-result: |
    Пользователь должен увидить сообщение Email is already taken

- summary: |
    Успешная авторизация с помощью Github
  requirement: |
    Пользователь может авторизация с помощью аккаунта на Github
  prerequisites: |
    Завести аккаунт на Github
  test-data: |
    Стартовая страница проекта
  steps:
    - Нажать на кнопку Sign In
    - Нажать кнопку Sign In with GitHub
    - Ввести логин и пароль от аккаунта GitHub    
  expected-result: |
    При успешной авторизации пользователь должен попасть на главную страницу codebattle

- summary: |
    Успешная авторизация с помощью Discord
  requirement: |
    Пользователь может авторизация с помощью аккаунта на Discord
  prerequisites: |
    Завести аккаунт на Discord
  test-data: |
    Стартовая страница проекта
  steps:
    - Нажать на кнопку Sign In
    - Нажать кнопку Sign In with Discord
    - Ввести логин и пароль от аккаунта Discord    
  expected-result: |
    При успешной авторизации пользователь должен попасть на главную страницу codebattle

- summary: |
    Успешная авторизация с помощью Email
  requirement: |
    Пользователь может авторизация с помощью аккаунта на Email
  prerequisites: |
    Завести аккаунт на Email
    Зарегистрироваться на codebattle
  test-data: |
    Стартовая страница проекта
  steps:
    - Нажать на кнопку Sign In
    - Ввести Email и Password, использовавшиеся при регистрации     
  expected-result: |
    При успешной авторизации пользователь должен попасть на главную страницу codebattle

- summary: |
    Попробовать игру без регистарации
  requirement: |
    Пользователь может попробовать игру без регистарации
  prerequisites: |
    Нет
  test-data: |
    Стартовая страница проекта
  steps:
    - Нажать на кнопку Try simple battle        
  expected-result: |
    Пользователь должен попасть на страницу с игрой

- summary: |
    Пользователь может играть с случайным соперником    
  requirement: |
    Вызов пользователя может принять любой другой зарегистрированный пользовател
  prerequisites: |
    Авторизоваться в разных браузерах под пользоателем №1 и №2
  test-data: |
    Нет
  steps:
    - Для пользователя №1
      - Нажать кнопку  CREATE NEW GAME
      - Нажать кнопку  create battle
    - Для пользователя №2 
      - Нажать кнопку Fight
  expected-result: |
    У обоих пользователей должно открыться окно с игрой

- summary: |
    Выбрать соперника для игры
  requirement: |
    Пользователь может выборать игру с конкретным пользователем
  prerequisites: |
    Авторизоваться в разных браузерах под пользоателем №1 и №2
  test-data: |
    Нет
  steps:
    - Для пользователя №1
      - Нажать кнопку  CREATE NEW GAME
      - Нажать кнопку  With a friend
      - Выбрать пользователя №2 в поле Choose opponent
      - Нажать кнопку  create battle
    - Для пользователя №2 
      - Нажать на кнопку invites 
      - Нажать на кнопку Accept 
  expected-result: |
    У обоих пользователей должно открыться окно с игрой

- summary: |
    Выбрать в соперники бота
  requirement: |
    Пользователь может выборать игру с ботом
  prerequisites: |
    Авторизоваться
  test-data: |
    Нет
  steps:
    - Нажать кнопку  CREATE NEW GAME
    - Нажать кнопку  With a bot
    - Нажать кнопку  create battle
  expected-result: |
    У обоих пользователей должно открыться окно с игрой

- summary: |
    Выбрать сложность решаемой задачи
  requirement: |
    Пользователь может выбрать сложность решаемой задачи
  prerequisites: |
    Авторизоваться
  test-data: |
    Нет
  steps:
    - Нажать кнопку  CREATE NEW GAME
    - В поле Level нажать на крайнюю правую кнопку (hard)
  expected-result: |
    Пльзователей видит, что в списке Choose task by name or tags остались только те задачи, которые соответствую выбранному уровную сложности

  - summary: |
    Выборать язык программирования во время игры
  requirement: |
    Пользователь может выборать язык программирования во время игры
  prerequisites: |
    Авторизоваться
  test-data: |
    Нет
  steps:
    - Нажать кнопку  CREATE NEW GAME
    - Нажать кнопку  With a bot
    - Нажать кнопку  create battle
    - Во вкладке со списком языков, выбрать язык, отличающийся от указанного по умолчанию
  expected-result: |
    Пользователь может писать код на выбранном языке
    
- summary: |
    Возможно видить процесс кодинга соперника во время игры
  requirement: |
    Есть возможность видить поле противника во время игры
  prerequisites: |
    Авторизоваться в разных браузерах под пользоателем №1 и №2
  test-data: |
    Нет
  steps:
    - Для пользователя №1
      - Нажать кнопку  CREATE NEW GAME
      - Нажать кнопку  With a friend
      - Выбрать пользователя №2 в поле Choose opponent
      - Нажать кнопку  create battle
    - Для пользователя №2 
      - Нажать на кнопку invites 
      - Нажать на кнопку Accept 
      - Ввести "Hello world" в редактор кода
    - Для пользователя №1
      - Ввести "Hi" в редактор кода
  expected-result: |
    Пользователи должны видеть друг у друга изменения в поле кода
  
- summary: |
    Проверка решения задачи
  requirement: |
    Пользователь может проверить решения задачи
  prerequisites: |
    Авторизоваться
  test-data: |
    Нет
  steps:
    - Нажать кнопку  CREATE NEW GAME
    - Нажать кнопку  With a bot
    - В списке Choose task by name or tags выбрать задачу rect_area
    - Нажать кнопку  create battle
    - Выбрать язык Node.js
    - В редакторе кода заменить функцию на const solution = (width, length) => { return width * length;}; 
    - Нажать на кнопку Run
  expected-result: |
    Пользователи должен увидить диалоговое окно с надписью "Woohoo, you're Champion!!!!!

- summary: |
    При смене Nickname можно использовать символы, заперщенные при регистрации
  requirement: |
    Пользователь не может использовать запрещеные при регистрации сиволы для смены Nickname
  prerequisites: |
    Авторизоваться
  test-data: |
    badStrng="\0'<>'\0"
  steps:
    - Перейти на страницу https://codebattle.hexlet.io/settings
    - В поле Your name ввести badString
    - Нажать на кнопку Save
  expected-result: |
    Пользователи должен получить сообщение об ограничениях для ввода, такое же как при регистрации